{"ast":null,"code":"var _jsxFileName = \"/home/keith/Documents/moringa/phase2/e-commerce/client/src/components/ProtectedRoute.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Protected = () => {\n  _s();\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n  const token = localStorage.getItem('token');\n  useEffect(() => {\n    const fetchProtectedData = async () => {\n      try {\n        const res = await axios.get('http://127.0.0.1:5000/protected', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setMessage(res.data.message);\n      } catch (error) {\n        alert('Unauthorized! Please log in.');\n        navigate('/login');\n      }\n    };\n    fetchProtectedData();\n  }, [navigate, token]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 10\n  }, this);\n};\n_s(Protected, \"V38RlWBQIiv7FH9o2HjQQWYQmKI=\", false, function () {\n  return [useNavigate];\n});\n_c = Protected;\nexport default Protected;\nvar _c;\n$RefreshReg$(_c, \"Protected\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","jsxDEV","_jsxDEV","Protected","_s","message","setMessage","navigate","token","localStorage","getItem","fetchProtectedData","res","get","headers","Authorization","data","error","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/keith/Documents/moringa/phase2/e-commerce/client/src/components/ProtectedRoute.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst Protected = () => {\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n  const token = localStorage.getItem('token');\n\n  useEffect(() => {\n    const fetchProtectedData = async () => {\n      try {\n        const res = await axios.get('http://127.0.0.1:5000/protected', {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setMessage(res.data.message);\n      } catch (error) {\n        alert('Unauthorized! Please log in.');\n        navigate('/login');\n      }\n    };\n\n    fetchProtectedData();\n  }, [navigate, token]);\n\n  return <div>{message}</div>;\n};\n\nexport default Protected;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMS,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAMQ,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAE3Cb,SAAS,CAAC,MAAM;IACd,MAAMc,kBAAkB,GAAG,MAAAA,CAAA,KAAY;MACrC,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMb,KAAK,CAACc,GAAG,CAAC,iCAAiC,EAAE;UAC7DC,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUP,KAAK;UAAG;QAC9C,CAAC,CAAC;QACFF,UAAU,CAACM,GAAG,CAACI,IAAI,CAACX,OAAO,CAAC;MAC9B,CAAC,CAAC,OAAOY,KAAK,EAAE;QACdC,KAAK,CAAC,8BAA8B,CAAC;QACrCX,QAAQ,CAAC,QAAQ,CAAC;MACpB;IACF,CAAC;IAEDI,kBAAkB,CAAC,CAAC;EACtB,CAAC,EAAE,CAACJ,QAAQ,EAAEC,KAAK,CAAC,CAAC;EAErB,oBAAON,OAAA;IAAAiB,QAAA,EAAMd;EAAO;IAAAe,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AAC7B,CAAC;AAACnB,EAAA,CAtBID,SAAS;EAAA,QAEIH,WAAW;AAAA;AAAAwB,EAAA,GAFxBrB,SAAS;AAwBf,eAAeA,SAAS;AAAC,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}